'from manim import *\nfrom manim_voiceover import VoiceoverScene\nfrom manim_voiceover.services.gtts import GTTSService\n\n# Screen and Sizing Constraints\nFRAME_WIDTH = 14.2\nFRAME_HEIGHT = 8.0\n\n# Font Sizes\nFONT_TITLE = 46\nFONT_HEADING = 38\nFONT_BODY = 32\nFONT_MATH = 36\nFONT_CAPTION = 26\nFONT_LABEL = 24\n\nDEFAULT_FONT = "Open Sans"\n\n# Helper Functions\ndef get_title_position():\n    # Returns a safe position for titles at the top of the screen\n    return UP * (FRAME_HEIGHT / 2 - FONT_TITLE / 72 * 0.5 - 0.2)\n\ndef get_content_center():\n    # Returns the safe center position for general content\n    return ORIGIN\n\ndef ensure_fits_screen(mobject):\n    # Auto-scales mobject to fit within viewport boundaries if it\'s too large\n    if mobject.get_width() > FRAME_WIDTH - 1.0: # 0.5 unit margin on each side\n        mobject.width = FRAME_WIDTH - 1.0\n    if mobject.get_height() > FRAME_HEIGHT - 1.0: # 0.5 unit margin top/bottom\n        mobject.height = FRAME_HEIGHT - 1.0\n    return mobject\n\ndef create_title(text):\n    # Creates a title mobject with predefined style and position\n    title = Text(text, font_size=FONT_TITLE, font=DEFAULT_FONT, weight=BOLD).to_edge(UP, buff=0.2)\n    ensure_fits_screen(title)\n    return title\n\ndef create_label(text, style="body", color=WHITE):\n    # Creates a text label with predefined styles\n    font_size = {\n        "title": FONT_TITLE,\n        "heading": FONT_HEADING,\n        "body": FONT_BODY,\n        "math": FONT_MATH,\n        "caption": FONT_CAPTION,\n        "label": FONT_LABEL,\n    }.get(style, FONT_BODY)\n    label = Text(text, font_size=font_size, font=DEFAULT_FONT, color=color)\n    ensure_fits_screen(label)\n    return label\n\ndef create_math(tex_string, color=WHITE):\n    # Creates a MathTex mobject with predefined style\n    math_obj = MathTex(tex_string, font_size=FONT_MATH, color=color)\n    ensure_fits_screen(math_obj)\n    return math_obj\n\ndef create_bullet_list_mixed(items, font_size=FONT_BODY, color=WHITE):\n    # Creates a bulleted list from a list of strings\n    bullet_points = VGroup()\n    for item_text in items:\n        bullet = Text(f"â€¢ {item_text}", font_size=font_size, font=DEFAULT_FONT, color=color)\n        ensure_fits_screen(bullet)\n        if bullet_points:\n            bullet.next_to(bullet_points[-1], DOWN, buff=0.5, aligned_edge=LEFT)\n        else:\n            bullet.to_edge(LEFT, buff=1.0) # Temporary positioning before arranging\n        bullet_points.add(bullet)\n    bullet_points.arrange(DOWN, aligned_edge=LEFT, buff=0.5)\n    ensure_fits_screen(bullet_points)\n    return bullet_points\n\ndef simple_center(mobject):\n    # Centers a mobject and ensures it fits the screen\n    ensure_fits_screen(mobject)\n    mobject.move_to(ORIGIN)\n    return mobject\n\ndef simple_two_column(left, right):\n    # Arranges two mobjects side-by-side and centers them\n    ensure_fits_screen(left)\n    ensure_fits_screen(right)\n    group = VGroup(left, right).arrange(RIGHT, buff=1.5)\n    group.move_to(ORIGIN)\n    return group\n\ndef create_side_by_side_layout(left, right, spacing=1.5):\n    # Creates a two-column layout with specified spacing\n    ensure_fits_screen(left)\n    ensure_fits_screen(right)\n    group = VGroup(left, right).arrange(RIGHT, buff=spacing)\n    group.move_to(ORIGIN)\n    return group\n\nclass MyScene(VoiceoverScene):\n    def construct(self):\n        self.set_speech_service(GTTSService())\n\n        # --- INTRODUCTION ---\n        with self.voiceover(text="Look at this parked car and this rolling soccer ball.") as tracker:\n            title = create_title("Balanced and Unbalanced Forces")\n            self.play(Write(title))\n\n            # Simple Car\n            car_body = Rectangle(width=2, height=0.8, fill_color=BLUE, fill_opacity=0.8)\n            wheel1 = Circle(radius=0.2, color=GRAY, fill_opacity=1).shift(LEFT*0.6 + DOWN*0.4)\n            wheel2 = Circle(radius=0.2, color=GRAY, fill_opacity=1).shift(RIGHT*0.6 + DOWN*0.4)\n            car = VGroup(car_body, wheel1, wheel2)\n            \n            # Simple Soccer Ball\n            ball = Circle(radius=0.4, color=WHITE, fill_opacity=1)\n            ball_lines = VGroup(*[Line(ORIGIN, 0.4*np.array([np.cos(a), np.sin(a), 0])) for a in np.linspace(0, TAU, 6)])\n            soccer_ball = VGroup(ball, ball_lines)\n\n            intro_group = VGroup(car, soccer_ball).arrange(RIGHT, buff=2).shift(DOWN*0.5)\n            ensure_fits_screen(intro_group)\n            self.play(FadeIn(car, shift=RIGHT*0.5), FadeIn(soccer_ball, shift=LEFT*0.5))\n            self.play(soccer_ball.animate.shift(RIGHT*2).rotate(-PI), run_time=2)\n\n        with self.voiceover(text="Why does one stay still while the other speeds away?") as tracker:\n            question = create_label("Why the difference in motion?", style="body", color=YELLOW)\n            question.next_to(intro_group, UP, buff=0.5)\n            self.play(Write(question))\n            self.wait(1)\n\n        with self.voiceover(text="Today you will learn to tell balanced forces from unbalanced ones.") as tracker:\n            self.play(FadeOut(intro_group), FadeOut(question))\n            objectives = create_bullet_list_mixed([\n                "Define Force",\n                "Balanced Forces (Net = 0)",\n                "Unbalanced Forces (Net > 0)"\n            ])\n            objectives.move_to(get_content_center())\n            self.play(FadeIn(objectives, shift=UP*0.3))\n            self.wait(1)\n            self.play(FadeOut(objectives), FadeOut(title))\n\n        # --- SECTION 1: DEFINE FORCE ---\n        with self.voiceover(text="A force is a push or pull from one object on another.") as tracker:\n            force_title = create_title("What is a Force?")\n            self.play(Write(force_title))\n            \n            block = Square(side_length=1.5, fill_color=GRAY, fill_opacity=0.5)\n            block.move_to(get_content_center())\n            ensure_fits_screen(block)\n            self.play(Create(block))\n\n        with self.voiceover(text="We draw it as an arrow pointing the way it pushes.") as tracker:\n            force_arrow = Arrow(LEFT*2.5, LEFT*0.8, color=RED, buff=0).shift(DOWN*0)\n            force_arrow.next_to(block, LEFT, buff=0.5) # Changed buff from 0.1 to 0.5\n            force_label = create_label("Force", style="label").next_to(force_arrow, UP, buff=0.5) # Changed buff from 0.2 to 0.5\n            ensure_fits_screen(VGroup(force_arrow, force_label))\n            self.play(GrowArrow(force_arrow), Write(force_label))\n\n        with self.voiceover(text="Length shows size, direction shows where it pushes.") as tracker:\n            self.play(force_arrow.animate.scale(1.5, about_point=force_arrow.get_end()), run_time=1)\n            self.play(force_arrow.animate.scale(0.5, about_point=force_arrow.get_end()), run_time=1)\n            self.wait(0.5)\n            self.play(FadeOut(block), FadeOut(force_arrow), FadeOut(force_label), FadeOut(force_title))\n\n        # --- SECTION 2: BALANCED FORCES ---\n        with self.voiceover(text="When two equal arrows point opposite ways on the same object their effects cancel.") as tracker:\n            bal_title = create_title("Balanced Forces")\n            self.play(Write(bal_title))\n            \n            block_bal = Square(side_length=1.5, fill_color=GRAY, fill_opacity=0.5).move_to(get_content_center())\n            arrow_l = Arrow(LEFT*2, ORIGIN, color=RED, buff=0).next_to(block_bal, LEFT, buff=0.5) # Changed buff from 0 to 0.5\n            arrow_r = Arrow(RIGHT*2, ORIGIN, color=RED, buff=0).next_to(block_bal, RIGHT, buff=0.5) # Changed buff from 0 to 0.5\n            ensure_fits_screen(VGroup(block_bal, arrow_l, arrow_r))\n            self.play(Create(block_bal))\n            self.play(GrowArrow(arrow_l), GrowArrow(arrow_r))\n\n        with self.voiceover(text="The net force is zero, written sigma F equals zero.") as tracker:\n            eq_bal = create_math(r"\\sum F = 0")\n            eq_bal.next_to(block_bal, UP, buff=1.0)\n            net_zero = create_label("Net Force = 0", style="body", color=GREEN).next_to(eq_bal, UP, buff=0.5) # Changed buff from 0.3 to 0.5\n            ensure_fits_screen(VGroup(eq_bal, net_zero))\n            self.play(Write(eq_bal), FadeIn(net_zero))\n\n        with self.voiceover(text="A book on a table feels gravity down and the table pushing up with the same size.") as tracker:\n            self.play(FadeOut(VGroup(block_bal, arrow_l, arrow_r, eq_bal, net_zero)))\n            \n            table = Line(LEFT*3, RIGHT*3, stroke_width=8, color=GOLD_E).shift(DOWN*1)\n            book = Rectangle(width=2, height=0.5, fill_color=BLUE_B, fill_opacity=1).next_to(table, UP, buff=0.5) # Changed buff from 0 to 0.5\n            \n            grav_arrow = Arrow(book.get_center(), book.get_center() + DOWN*1.5, color=ORANGE, buff=0.5) # Changed buff from 0 to 0.5\n            norm_arrow = Arrow(book.get_center(), book.get_center() + UP*1.5, color=CYAN, buff=0.5) # Changed buff from 0 to 0.5\n            \n            grav_label = create_label("Gravity", style="caption").next_to(grav_arrow, DOWN, buff=0.5) # Changed buff from 0.2 to 0.5\n            norm_label = create_label("Normal Force", style="caption").next_to(norm_arrow, UP, buff=0.5) # Changed buff from 0.2 to 0.5\n            \n            book_scene_elements = VGroup(table, book, grav_arrow, norm_arrow, grav_label, norm_label)\n            ensure_fits_screen(book_scene_elements)\n            self.play(Create(table), Create(book))\n            self.play(GrowArrow(grav_arrow), Write(grav_label))\n            self.play(GrowArrow(norm_arrow), Write(norm_label))\n\n        with self.voiceover(text="Because these forces balance, the book does not accelerate.") as tracker:\n            no_accel = create_label("No Acceleration", style="heading", color=GREEN).move_to(UP*2)\n            ensure_fits_screen(no_accel)\n            self.play(FadeIn(no_accel, scale=1.2))\n            self.wait(1)\n            self.play(FadeOut(VGroup(table, book, grav_arrow, norm_arrow, grav_label, norm_label, no_accel, bal_title)))\n\n        # --- SECTION 3: UNBALANCED FORCES ---\n        with self.voiceover(text="If the arrows are not equal, or do not cancel, the net force is bigger than zero.") as tracker:\n            unbal_title = create_title("Unbalanced Forces")\n            self.play(Write(unbal_title))\n            \n            block_un = Square(side_length=1.5, fill_color=GRAY, fill_opacity=0.5).move_to(get_content_center())\n            arrow_big = Arrow(LEFT*3.5, ORIGIN, color=RED, buff=0).next_to(block_un, LEFT, buff=0.5) # Changed buff from 0 to 0.5\n            arrow_small = Arrow(RIGHT*1, ORIGIN, color=RED, buff=0).next_to(block_un, RIGHT, buff=0.5) # Changed buff from 0 to 0.5\n            ensure_fits_screen(VGroup(block_un, arrow_big, arrow_small))\n            self.play(Create(block_un))\n            self.play(GrowArrow(arrow_big), GrowArrow(arrow_small))\n\n        with self.voiceover(text="Sigma F now equals mass times acceleration.") as tracker:\n            eq_unbal = create_math(r"\\sum F = ma")\n            eq_unbal.next_to(block_un, UP, buff=1.0)\n            net_pos = create_label("Net Force > 0", style="body", color=RED).next_to(eq_unbal, UP, buff=0.5) # Changed buff from 0.3 to 0.5\n            ensure_fits_screen(VGroup(eq_unbal, net_pos))\n            self.play(Write(eq_unbal), FadeIn(net_pos))\n            self.play(block_un.animate.shift(RIGHT*2), arrow_big.animate.shift(RIGHT*2), arrow_small.animate.shift(RIGHT*2), run_time=1.5, rate_func=rate_functions.ease_in_quad) # FIX: Replaced \'accelerate\'\n\n        with self.voiceover(text="Imagine kicking a soccer ball: your foot pushes forward harder than friction pushes back.") as tracker:\n            self.play(FadeOut(VGroup(block_un, arrow_big, arrow_small, eq_unbal, net_pos)))\n            \n            ball_kick = soccer_ball.copy().move_to(LEFT*3 + DOWN*1)\n            kick_arrow = Arrow(ball_kick.get_left() + LEFT*1.5, ball_kick.get_left(), color=YELLOW, buff=0.5) # Changed buff from 0 to 0.5\n            fric_arrow = Arrow(ball_kick.get_right() + RIGHT*0.5, ball_kick.get_right(), color=GRAY, buff=0.5) # Changed buff from 0 to 0.5\n            \n            kick_label = create_label("Kick", style="caption").next_to(kick_arrow, UP, buff=0.5) # Changed buff from 0.2 to 0.5\n            fric_label = create_label("Friction", style="caption").next_to(fric_arrow, UP, buff=0.5) # Changed buff from 0.2 to 0.5\n            \n            ball_kick_elements = VGroup(ball_kick, kick_arrow, fric_arrow, kick_label, fric_label)\n            ensure_fits_screen(ball_kick_elements)\n            self.play(FadeIn(ball_kick))\n            self.play(GrowArrow(kick_arrow), Write(kick_label))\n            self.play(GrowArrow(fric_arrow), Write(fric_label))\n\n        with self.voiceover(text="The bigger forward force makes the ball speed up.") as tracker:\n            self.play(\n                ball_kick.animate.shift(RIGHT*8).rotate(-PI*2),\n                kick_arrow.animate.shift(RIGHT*8),\n                fric_arrow.animate.shift(RIGHT*8),\n                run_time=2,\n                rate_func=rate_functions.ease_in_quad # FIX: Replaced \'accelerate\'\n            )\n            self.wait(0.5)\n            self.play(FadeOut(VGroup(ball_kick, kick_arrow, fric_arrow, kick_label, fric_label, unbal_title)))\n\n        # --- SECTION 4: APPLICATIONS ---\n        with self.voiceover(text="An elevator cable pulls up with the same size as the weight pulls down when the car hangs still.") as tracker:\n            app_title = create_title("Real-World Examples")\n            self.play(Write(app_title))\n            \n            elevator = Rectangle(width=1.5, height=2, fill_color=DARK_GRAY, fill_opacity=0.8).shift(LEFT*3)\n            cable = Line(elevator.get_top(), elevator.get_top() + UP*2, color=WHITE)\n            \n            up_force = Arrow(elevator.get_center(), elevator.get_center() + UP*1.5, color=CYAN, buff=0.5) # Changed buff from 0 to 0.5\n            down_force = Arrow(elevator.get_center(), elevator.get_center() + DOWN*1.5, color=ORANGE, buff=0.5) # Changed buff from 0 to 0.5\n            \n            balanced_label = create_label("Balanced", style="caption").next_to(elevator, DOWN, buff=0.5) # Changed buff from 0.3 to 0.5\n            \n            elevator_elements = VGroup(elevator, cable, up_force, down_force, balanced_label)\n            ensure_fits_screen(elevator_elements)\n            self.play(Create(elevator), Create(cable))\n            self.play(GrowArrow(up_force), GrowArrow(down_force))\n            self.play(Write(balanced_label))\n\n        with self.voiceover(text="When the motor increases the pull, the forces become unbalanced and the car rises.") as tracker:\n            self.play(up_force.animate.scale(1.5, about_point=up_force.get_start()), run_time=1)\n            self.play(\n                VGroup(elevator, cable, up_force, down_force, balanced_label).animate.shift(UP*1.5),\n                run_time=2,\n                rate_func=rate_functions.ease_in_quad # FIX: Replaced \'accelerate\'\n            )\n\n        with self.voiceover(text="A braking car works the same way: friction from the pads becomes larger than the forward drive force, so the car slows.") as tracker:\n            self.play(FadeOut(VGroup(elevator, cable, up_force, down_force, balanced_label)))\n            \n            car_brake = car.copy().move_to(RIGHT*3 + DOWN*1)\n            drive_arrow = Arrow(car_brake.get_left() + LEFT*0.5, car_brake.get_left(), color=BLUE, buff=0.5) # Changed buff from 0 to 0.5\n            brake_arrow = Arrow(car_brake.get_right() + RIGHT*2, car_brake.get_right(), color=RED, buff=0.5) # Changed buff from 0 to 0.5\n            \n            car_brake_elements = VGroup(car_brake, drive_arrow, brake_arrow)\n            ensure_fits_screen(car_brake_elements)\n            self.play(FadeIn(car_brake), GrowArrow(drive_arrow), GrowArrow(brake_arrow))\n            self.play(\n                car_brake.animate.shift(RIGHT*1.5),\n                drive_arrow.animate.shift(RIGHT*1.5),\n                brake_arrow.animate.shift(RIGHT*1.5),\n                run_time=2,\n                rate_func=rate_functions.ease_out_quad # FIX: Replaced \'decelerate\'\n            )\n            self.wait(0.5)\n            self.play(FadeOut(VGroup(car_brake, drive_arrow, brake_arrow, app_title)))\n\n        # --- CONCLUSION ---\n        with self.voiceover(text="Balanced forces mean no change in motion.") as tracker:\n            conc_title = create_title("Summary")\n            self.play(Write(conc_title))\n            \n            summary1 = create_label("Balanced: No change in motion", style="body", color=GREEN)\n            summary1.move_to(UP*1)\n            ensure_fits_screen(summary1)\n            self.play(FadeIn(summary1, shift=RIGHT*0.5))\n\n        with self.voiceover(text="Unbalanced forces mean the object accelerates.") as tracker:\n            summary2 = create_label("Unbalanced: Acceleration", style="body", color=RED)\n            summary2.next_to(summary1, DOWN, buff=0.5)\n            ensure_fits_screen(summary2)\n            self.play(FadeIn(summary2, shift=RIGHT*0.5))\n\n        with self.voiceover(text="Look for the net force and you can predict what any object will do next.") as tracker:\n            final_tip = create_label("Predict motion using Net Force!", style="heading", color=YELLOW)\n            final_tip.next_to(summary2, DOWN, buff=1.0)\n            ensure_fits_screen(final_tip)\n            self.play(Write(final_tip))\n            self.wait(2)\n            \n            self.play(FadeOut(VGroup(conc_title, summary1, summary2, final_tip)))'
